<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Dashboard - OnboardX</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/css/emp_dashboard.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/feedback-form.css">
    <script src="/js/api.js" defer></script>
    <script src="/js/emp_dashboard_tasks.js" defer></script>
</head>
<body>
    <header class="branding">
        <h1 class="brand-name">
            <i class="fas fa-user-circle"></i>
            OnboardX
        </h1>
        <nav class="main-nav">
            <a href="emp_dashboard.html" class="active">
                <i class="fas fa-home"></i>
                Dashboard
            </a>
            <a href="onboarding.html">
                <i class="fas fa-clipboard-check"></i>
                Onboarding
            </a>
            <a href="offboarding.html">
                <i class="fas fa-user-minus"></i>
                Offboarding
            </a>
            <a href="#" id="help-link">
                <i class="fas fa-question-circle"></i>
                Help
            </a>
            <a href="#" id="logout-link">
                <i class="fas fa-sign-out-alt"></i>
                Logout
            </a>
        </nav>
        <button class="mobile-menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
    </header>

    <div class="dashboard-container">
        <!-- Welcome Banner -->
        <div class="welcome-banner">
            <div class="welcome-content">
                <h2>Welcome <span id="user-name"></span> to your dashboard!</h2>
                <p>Track your progress, complete tasks, and access resources to make your onboarding journey smooth and successful.</p>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-sections">
            <!-- Left Column -->
            <div class="main-column">
                <!-- Tasks Section -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h3><i class="fas fa-clipboard-list"></i> Assigned Tasks</h3>
                    </div>
                    <div class="task-list" id="assigned-tasks">
                        <!-- Tasks will be loaded dynamically -->
                        <div class="task-item loading-placeholder">
                            <div class="loading-indicator">
                                <i class="fas fa-spinner fa-spin"></i> Loading tasks...
                            </div>
                        </div>
                    </div>
                    <a href="onboarding.html#tasks" class="view-all-link">View all tasks</a>
                </div>

                <!-- Resources Section -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h3><i class="fas fa-book"></i> Resources</h3>
                    </div>
                    <div class="resources-list">
                        <!-- Resources will be loaded dynamically from the database -->
                        <div class="loading-indicator">
                            <i class="fas fa-spinner fa-spin"></i> Loading resources...
                        </div>
                    </div>
                </div>

                <!-- Communication Section -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h3><i class="fas fa-comments"></i> Communication</h3>
                    </div>
                    <div class="communication-list">
                        <div class="communication-item">
                            <div class="comm-icon">
                                <i class="fas fa-user-tie"></i>
                            </div>
                            <div class="comm-content">
                                <h4>Employees</h4>
                                <div class="employee-contacts">
                                    <select id="employee-contact-list" class="contact-select">
                                        <option value="">Select an employee to view contact info...</option>
                                        <!-- Will be populated dynamically -->
                                    </select>
                                    <div id="selected-employee-info" class="selected-contact-info">
                                        <p>Select an employee from the dropdown to view their contact details.</p>
                                    </div>
                                </div>
                                <div class="message-panel" id="employees-message-panel" style="display: none;">
                                    <select class="employee-select" id="employee-select">
                                        <option value="">Select an employee...</option>
                                        <!-- Will be populated dynamically -->
                                    </select>
                                    <textarea class="message-input" id="employee-message" placeholder="Type your message here..."></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="communication-item">
                            <div class="comm-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="comm-content">
                                <h4>HR Department</h4>
                                <div class="employee-contacts">
                                    <select id="hr-contact-list" class="contact-select">
                                        <option value="">Select an HR staff to view contact info...</option>
                                        <!-- Will be populated dynamically -->
                                    </select>
                                    <div id="selected-hr-info" class="selected-contact-info">
                                        <p>Select an HR staff member from the dropdown to view their contact details.</p>
                                    </div>
                                </div>
                                <div class="message-panel" id="hr-message-panel" style="display: none;">
                                    <select class="hr-select" id="hr-select">
                                        <option value="">Select HR staff...</option>
                                        <!-- Will be populated dynamically -->
                                    </select>
                                    <textarea class="message-input" id="hr-message" placeholder="Type your message here..."></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="communication-item">
                            <div class="comm-icon">
                                <i class="fas fa-laptop-code"></i>
                            </div>
                            <div class="comm-content">
                                <h4>IT Support</h4>
                                <div class="employee-contacts">
                                    <select id="it-contact-list" class="contact-select">
                                        <option value="">Select an IT staff to view contact info...</option>
                                        <!-- Will be populated dynamically -->
                                    </select>
                                    <div id="selected-it-info" class="selected-contact-info">
                                        <p>Select an IT staff member from the dropdown to view their contact details.</p>
                                    </div>
                                </div>
                                <div class="message-panel" id="it-message-panel" style="display: none;">
                                    <select class="it-select" id="it-select">
                                        <option value="">Select IT staff...</option>
                                        <!-- Will be populated dynamically -->
                                    </select>
                                    <textarea class="message-input" id="it-message" placeholder="Type your message here..."></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="main-column">
                <!-- Progress Overview -->
                <div class="dashboard-section progress-section">
                    <div class="section-header">
                        <h3><i class="fas fa-chart-line"></i> Your Progress</h3>
                    </div>
                    <div class="progress-stats">
                        <div class="stat-card">
                            <i class="fas fa-tasks"></i>
                            <div class="stat-info">
                                <p class="stat-number">3</p>
                                <span class="stat-label">Tasks Pending</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-calendar-check"></i>
                            <div class="stat-info">
                                <p class="stat-number">60%</p>
                                <span class="stat-label">Onboarding Complete</span>
                            </div>
                        </div>
                    </div>

                    <!-- Onboarding Section -->
                    <div class="process-card">
                        <div class="process-header">
                            <h4><i class="fas fa-user-plus"></i> Onboarding</h4>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 60%"></div>
                                </div>
                            </div>
                        </div>
                        <p>Continue your onboarding process to get fully integrated into the company.</p>
                        <div class="process-details">
                            <div class="process-detail-item">
                                <i class="fas fa-file-signature"></i>
                                <span>Documentation</span>
                            </div>
                            <div class="process-detail-item">
                                <i class="fas fa-laptop"></i>
                                <span>Equipment Setup</span>
                            </div>
                            <div class="process-detail-item">
                                <i class="fas fa-graduation-cap"></i>
                                <span>Training</span>
                            </div>
                        </div>
                        <a href="onboarding.html" class="primary-btn">
                            Continue Onboarding
                        </a>
                    </div>

                    <!-- Offboarding Section -->
                    <div class="process-card">
                        <div class="process-header">
                            <h4><i class="fas fa-user-minus"></i> Offboarding</h4>
                        </div>
                        <p>Begin your offboarding process when you're ready to transition out of the company.</p>
                        <div class="process-details">
                            <div class="process-detail-item">
                                <i class="fas fa-comments"></i>
                                <span>Exit Interview</span>
                            </div>
                            <div class="process-detail-item">
                                <i class="fas fa-laptop"></i>
                                <span>Asset Return</span>
                            </div>
                            <div class="process-detail-item">
                                <i class="fas fa-file-alt"></i>
                                <span>Documentation</span>
                            </div>
                        </div>
                        <a href="offboarding.html" class="secondary-btn">
                            Start Offboarding
                        </a>
                    </div>
                </div>

                <!-- Feedback Section -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h3><i class="fas fa-comment-dots"></i> Feedback</h3>
                    </div>
                    <div class="feedback-content">
                        <p>Your feedback helps us improve our onboarding process.</p>
                        <button id="provide-feedback" class="feedback-btn">
                            <i class="fas fa-paper-plane"></i>
                            Provide Feedback
                        </button>
                    </div>
                </div>

                <!-- Compliance Checklist -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h3><i class="fas fa-clipboard-check"></i> Compliance Checklist</h3>
                    </div>
                    <div class="compliance-list">
                        <div class="compliance-item">
                            <div class="compliance-status completed">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="compliance-content">
                                <h4>NDA Signed</h4>
                                <p>Completed on: 05/15/2023</p>
                            </div>
                        </div>
                        <div class="compliance-item">
                            <div class="compliance-status pending">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="compliance-content">
                                <h4>I-9 Verification</h4>
                                <p>Due: 05/20/2023</p>
                            </div>
                        </div>
                        <div class="compliance-item">
                            <div class="compliance-status pending">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="compliance-content">
                                <h4>Background Check</h4>
                                <p>In Progress</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column (Smaller) -->
            <div class="side-column">
                <!-- Side column empty after removing Upcoming Events -->
            </div>
        </div>
    </div>

    <div id="notification-container" class="notification-container"></div>

    <footer class="main-footer">
        <div class="footer-content">
            <p>&copy; 2024 OnboardX. All rights reserved.</p>
        </div>
    </footer>

    <script src="/js/emp_dashboard.js"></script>
    <script src="/js/emp_dashboard_tasks.js"></script>
</body>
</html>
